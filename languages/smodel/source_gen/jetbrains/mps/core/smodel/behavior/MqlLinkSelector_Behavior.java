package jetbrains.mps.core.smodel.behavior;

/*Generated by MPS */

import jetbrains.mps.smodel.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.core.structure.behavior.SAbstractLink_Behavior;
import jetbrains.mps.smodel.SModelUtil_new;
import jetbrains.mps.project.GlobalScope;

public class MqlLinkSelector_Behavior {
  public static void init(SNode thisNode) {
  }

  public static SNode virtual_getType_228266671027867010(SNode thisNode) {
    SNode concept = SLinkOperations.getTarget(SLinkOperations.getTarget(thisNode, "link", false), "target", false);
    if ((concept == null)) {
      return null;
    }
    return (SAbstractLink_Behavior.call_isMultiple_4125821269969003167(SLinkOperations.getTarget(thisNode, "link", false)) ?
      createMqlListType_71mfo8_a0c0a(concept) :
      createMqlNodeType_71mfo8_a0c0a(concept)
    );
  }

  private static SNode createMqlListType_71mfo8_a0c0a(Object p0) {
    SNode n1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.core.query.structure.MqlListType", null, GlobalScope.getInstance(), false);
    {
      SNode n2 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.core.smodel.structure.MqlNodeType", null, GlobalScope.getInstance(), false);
      n2.setReferent("concept", (SNode) p0);
      n1.addChild("inner", n2);
    }
    return n1;
  }

  private static SNode createMqlNodeType_71mfo8_a0c0a(Object p0) {
    SNode n1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.core.smodel.structure.MqlNodeType", null, GlobalScope.getInstance(), false);
    n1.setReferent("concept", (SNode) p0);
    return n1;
  }
}
